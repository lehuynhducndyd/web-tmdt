<table class="table table-hover table-bordered">
    <thead>
        <tr>
            <th>Mã đơn hàng</th>
            <th>Trạng thái</th>
            <th>Ngày/giờ đặt</th>
            <th>Tổng tiền</th>
            <th>Thao tác</th>
        </tr>
    </thead>
    <tbody>
        <% if (typeof orders !=='undefined' && orders.length> 0) { %>
            <% orders.forEach(order=> { %>
                <tr>
                    <td>#<%= order._id.toString().slice(-6) %>
                    </td>
                    <td>
                        <% let statusText='' ; let badgeClass='' ; switch (order.status) { case 'pending' :
                            statusText='Chờ xác nhận' ; badgeClass='bg-warning text-dark' ; break; case 'processing' :
                            statusText='Đang xử lý' ; badgeClass='bg-info text-dark' ; break; case 'shipped' :
                            statusText='Đang giao' ; badgeClass='bg-primary' ; break; case 'delivered' :
                            statusText='Đã giao' ; badgeClass='bg-success' ; break; case 'cancelled' :
                            statusText='Đã hủy' ; badgeClass='bg-danger' ; break; default: statusText=order.status;
                            badgeClass='bg-secondary' ; } %>
                            <span class="badge <%= badgeClass %>">
                                <%= statusText %>
                            </span>
                    </td>
                    <td>
                        <%= new Date(order.createdAt).toLocaleString('vi-VN') %>
                    </td>
                    <td>
                        <%= new Intl.NumberFormat('vi-VN', { style: 'currency' , currency: 'VND'
                            }).format(order.totalAmount) %>
                    </td>
                    <td><a class="btn btn-primary btn-sm" href="/history-detail/<%= order._id %>">Chi tiết</a></td>
                </tr>
                <% }) %>
                    <% } else { %>
                        <tr>
                            <td colspan="5" class="text-center">Không có đơn hàng nào.</td>
                        </tr>
                        <% } %>
    </tbody>
</table>